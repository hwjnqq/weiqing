!function(t,i){"function"==typeof define&&define.amd?define(["underscore","webuploader","jquery.jplayer"],function(e,a){return t.fileUploader=i(e,a)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=i(require("underscore"),require("webuploader"),require("jquery.jplayer"),require("filestyle")):t.fileUploader=i(jQuery,underscore,WebUploader)}(window,function(t,i){var e={defaultoptions:{direct:!1,global:!1,dest_dir:"",callback:null,type:"image",mode:"",multiple:!1,allowUploadVideo:!0,fileSizeLimit:!1,uploader:{}},uploader:{},upload:function(t){var i=this;i.initOptions("",t),i.initUploader("web","#webUploaderBtn"),t.isWechat=!1,i.initOptions("",t),i.initUploader("web","#webUploaderBtn2")},show:function(t,i){return this.init(t,i)},initOptions:function(t,i){var e=this;if(e.options=$.extend({},e.defaultoptions,i),e.options.callback=t,e.options.isWechat){if(e.options.account_error)return alert("公众号没有上传素材的权限","","info"),!1}else e.options.global?e.options.global="global":e.options.global="",document.cookie="__fileupload_type="+escape(e.options.type),document.cookie="__fileupload_dest_dir="+escape(e.options.dest_dir),document.cookie="__fileupload_global="+escape(e.options.global)},setOptions:function(t,i){var e,a,n,o,l,s,d=this;switch(n=d.options.multiple?isNaN(Number(d.options.num_limit))?30:Number(d.options.num_limit):1,d.options.isWechat?(fileSingleImageSizeLimit=5242880,fileSingleVoiceSizeLimit=5242880,fileSingleVideoSizeLimit=5242880):(fileSingleImageSizeLimit=isNaN(Number(d.options.image_limit))?5242880:Number(d.options.image_limit),fileSingleVoiceSizeLimit=isNaN(Number(d.options.voice_limit))?5242880:Number(d.options.voice_limit),fileSingleVideoSizeLimit=isNaN(Number(d.options.video_limit))?5242880:Number(d.options.video_limit)),d.options.type){case"image":e="图片",typeUnit="张",a={title:"Images",extensions:"gif,jpg,jpeg,bmp,png,ico",mimeTypes:"image/gif,image/jpg,image/jpeg,image/bmp,image/png,image/ico"},l=(n=n)*(o=fileSingleImageSizeLimit),s=!!d.options.isWechat&&{quality:80,preserveHeaders:!0,noCompressIfLarger:!0,compressSize:1048576};break;case"audio":case"voice":e="音频",typeUnit="个",a={title:"Audios",extensions:"mp3,wma,wav,amr",mimeTypes:"audio/*"},l=(n=n)*(o=fileSingleVoiceSizeLimit),s=!1,d.options.isWechat&&(n=5,"temp"==d.options.mode?(a.extensions="mp3",o=2097152,l=10485760):(o=5242880,l=26214400));break;case"video":e="视频",typeUnit="个",a={title:"Video",extensions:"rm,rmvb,wmv,avi,mpg,mpeg,mp4",mimeTypes:"video/*"},l=(n=n)*(o=fileSingleVideoSizeLimit),s=!1,d.options.isWechat&&(n=5,"temp"==d.options.mode?(a.extensions="mp4",o=10485760,l=52428800):(o=20971520,l=104857600))}var r={pick:{id:i,label:'<button class="btn btn-primary">'+("window"==t?"点击选择"+e:"上传到"+(d.options.isWechat?"微信":"服务器"))+"</button>",multiple:d.options.multiple},auto:!0,swf:"./resource/componets/webuploader/Uploader.swf",server:d.options.isWechat?"./index.php?c=utility&a=wechat_file&do=upload":"./index.php?c=utility&a=file&do=upload&type="+d.options.type,compress:s,accept:a,fileNumLimit:n,fileSizeLimit:l,fileSingleSizeLimit:o,thumbnailWidth:50,thumbnailHeight:50};return r=$.extend({},r,d.options.uploader),r.pick.multiple=d.options.multiple,r.isWechat=d.options.isWechat,r.type=d.options.type,d.options.fileNumLimit=n,d.options.fileSizeLimit=l,d.options.fileSingleSizeLimit=o,d.options.typeText=e,r},init:function(t,i){var e=this;return e.initOptions(t,i),$("#newUploaderImg").remove(),0==$("#newUploaderImg").length&&$(document.body).append(e.buildHtml().mainDialog),e.modalobj=$("#newUploaderImg"),e.modalobj.modal("show"),e.modalobj.on("shown.bs.modal",function(){if(!$(this).data("init"))switch(e.options.type){case"image":case"thumb":e.leftButtonClick("Local");break;case"audio":e.leftButtonClick("LocalAudio");break;case"voice":e.leftButtonClick("LocalVoice");break;case"video":e.options.allowUploadVideo&&e.leftButtonClick("LocalVideo")}}),e.modalobj},leftButtonClick:function(t){var i=this;i["init"+t](),i.modalobj.find(".click_wechat").click(function(){i.options.isWechat=!0,i["init"+t]()}),i.modalobj.find(".click_local").click(function(){i.options.isWechat=!1,i["init"+t]()})},initUploader:function(t,a){var n=this,o=n.setOptions(t,a),l=0;(e=i.create(o)).option("server",e.option("server")+"&mode=perm&types="+n.options.type),e.on("uploadSuccess",function(i){if(l--,$("#"+i.id).addClass("upload-state-done"),0==l)if("window"==t)switch(n.options.type){case"image":case"thumb":n.initLocal();break;case"audio":n.initLocalAudio();break;case"voice":n.initLocalVoice();break;case"video":n.options.allowUploadVideo&&n.initLocalVideo()}else window.location.reload()}),e.on("uploadComplete",function(t){$("#"+t.id).find(".progress").remove()}),e.onError=function(t){"Q_EXCEED_SIZE_LIMIT"!=t?"F_DUPLICATE"!=t?alert("Eroor: "+t):alert("错误信息: 不能重复上传"+n.options.typeText+"."):alert("错误信息: "+n.options.typeText+"大于 "+i.formatSize(n.options.fileSizeLimit)+" 无法上传.")},e.on("fileQueued",function(i){l++;var a=$('<div id="'+i.id+'" class="file-item thumbnail"><img><div class="info">'+i.name+"</div></div>"),o=a.find("img");"window"==t?$("#newUploaderImg").find(".upload-queue").append(a):$(".material-appmsg").find(".upload-queue").append(a),"image"==n.options.type&&e.makeThumb(i,function(t,i){t?o.replaceWith("<span>不能预览</span>"):o.attr("src",i)},n.options.thumbnailWidth,n.options.thumbnailHeight)}),e.on("uploadProgress",function(t,i){var e=$("#"+t.id),a=e.find(".progress .progress-bar");a.length||(a=$('<div class="progress progress-striped active"><div class="progress-bar" role="progressbar" style="width: 0%"></div></div>').appendTo(e).find(".progress-bar")),e.find("p.state").text("上传中"),a.css("width",100*i+"%")})},initRemote:function(){var t=this;t.modalobj.find(".tab-content").empty(),t.modalobj.find(".tab-content").append(t.buildHtml().remoteDialog),t.modalobj.find("#btn-research").click(function(){var i=t.modalobj.find("#networkurl").val();$.ajax({url:"./index.php?c=utility&a=file&do=fetch",data:"url="+i,dataType:"json",success:function(i){i.message?alert(i.message):(t.modalobj.find(".tab-content").find(".img").attr("style","background-image: url("+i.url+");"),t.finish([i]),i={})}})})},initVideoRemote:function(){function t(t){if(t){var a=i(t);a=e(a),$("#preview").html('<div style="position:absolute;top:0;margin:0;padding:120px 50px;width:100%;height:100%;font-size:20px;"><span>只支持 腾讯，优酷，土豆视频，如无法预览视频，请前往视频网址处的分享区域，复制通用地址到编辑器内部！</span></div><iframe src="'+a+'" allowfullscreen="true" style="border:0;position:absolute;top:0;left:0;margin:0;padding:0;width:100%;height:100%;"></iframe>')}}function i(t){if(!t)return"";var i,e;if(t.indexOf("v.qq.com")>=0){if((i=t.match(/vid\=([^\&]*)($|\&)/))?e="http://v.qq.com/iframe/player.html?vid="+i[1]+"&tiny=0&auto=0":(i=t.match(/\/([0-9a-zA-Z]+).html/))&&(e="http://v.qq.com/iframe/player.html?vid="+i[1]+"&tiny=0&auto=0"),!i)return}else if(t.indexOf("v.youku.com")>=0)e="http://player.youku.com/embed/"+(i=t.match(/id_(.*)\.html/))[1];else{if(!(t.indexOf("tudou.com")>=0))return;e="http://www.tudou.com/programs/view/html5embed.action?code="+(i=(i=t.match(/\/([-\w]+)/g))[i.length-1].substring(1))}return e}function e(t,i){return t?t.replace(i||/[<">']/g,function(t){return{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[t]}):""}var a=this;a.modalobj.find("#li_network").removeClass("hide"),a.modalobj.find(".modal-body").append(a.buildHtml().remoteVideoDialog),a.modalobj.find("#networkurl").blur(function(){var i=$(this).val();i.length>0?t(i):$("#preview").html("")}),a.modalobj.find(".btn-primary").click(function(){var t=a.modalobj.find("#networkurl").val();if(t.length>0&&"video"==a.options.type){var n=i(t);n=e(n),a.finish([{url:n,isRemote:!0}])}})},initLocal:function(){this.localPage(1)},localPage:function(i){var e=this;if(e.options.isWechat)var a="./index.php?c=utility&a=wechat_file&do=browser",n={page:i,type:e.options.type,mode:e.options.mode,psize:10};else var a="./index.php?c=utility&a=file&do=local",n={page:i,year:e.modalobj.find("#select-year .btn-info").data("id"),month:e.modalobj.find("#select-month .btn-info").data("id")};var o=e.modalobj.find(".tab-content");return o.empty(),o.append(e.buildHtml().pickupDialog),e.initUploader("window",".btn.btn-upload-primary"),$.getJSON(a,n,function(i){i=i.message.message,t.isEmpty(i.items)?o.find(".tablepanel-con").html('<div class="empty hidden"><span class="wi wi-warning-sign"></span>暂无图片</div>'):(o.data("attachment",i.items),o.find(".tablepanel-con").empty(),o.find(".tablepanel-con").html(t.template(e.buildHtml()[e.options.isWechat?"weixin_localDialogLi":"localDialogLi"])(i)),o.find("#image-list-pager").html(i.page),o.find(".pagination a").click(function(){e.localPage($(this).attr("page"))}),o.find(".img").click(function(t){e.selectImage($(t.target).parents(".item"))}),e.options.isWechat?e.weixinDeletefile():e.deletefile())}),e.modalobj.find(".modal-footer .text-center").find(".btn-primary").unbind("click").click(function(){var t=[];o.find(".item.selected").each(function(){t.push(o.data("attachment")[$(this).attr("attachid")]),$(this).removeClass("selected")}),e.finish(t)}),!1},deletefile:function(){this.modalobj.find("#history_image .img-list li .btnClose").unbind().click(function(){var t=$(this),i=$(this).data("id");return!!i&&($.post("./index.php?c=utility&a=file&do=delete",{id:i},function(i){"success"!=i?alert(i):(t.parent().remove(),util.message("删除成功","","success"))}),!1)})},weixinDeletefile:function(){var t=this;t.modalobj.find(".tablepanel-con .delete-file").off("click"),t.modalobj.find(".tablepanel-con .delete-file").on("click",function(t){var i=$(this);if(confirm("确定要删除文件吗？")){var e=$(this).parents(".audio-item").attr("attachid"),a=$(this).parents(".audio-item").attr("data-type");$.post("./index.php?c=utility&a=wechat_file&do=delete",{id:e},function(t){if(!(t=$.parseJSON(t)).error)return util.message(t.message),!1;"image"==a?i.parent().remove():"audio"!=a&&"voice"!=a&&"video"!=a||i.parents(".audio-item").remove()})}t.stopPropagation()})},selectImage:function(t){var i=this;$(t).toggleClass("selected",""),i.options.isWechat?i.options.direct&&i.modalobj.find(".modal-footer .text-center").find(".btn-primary").trigger("click"):i.options.multiple||i.modalobj.find(".modal-footer .text-center").find(".btn-primary").trigger("click")},initLocalAudio:function(){this.localAudioPage(1)},localAudioPage:function(i){var e=this;if(e.options.isWechat)var a="./index.php?c=utility&a=wechat_file&do=browser",n={page:i,type:e.options.type,mode:e.options.mode,psize:5};else var a="./index.php?c=utility&a=file&do=local&type=audio&pagesize=5",n={page:i};var o=e.modalobj.find(".tab-content");return o.empty(),o.append(e.buildHtml().pickupDialog),e.initUploader("window",".btn.btn-upload-primary"),$.getJSON(a,n,function(i){i=i.message.message,o.find(".tablepanel-con").html('<i class="fa fa-spinner fa-pulse"></i>'),t.isEmpty(i.items)?o.find(".history-content").css("text-align","center").html('<i class="fa fa-info-circle"></i> 暂无数据'):(o.data("attachment",i.items),o.find(".tablepanel-con").empty(),o.find(".tablepanel-con").html(t.template(e.buildHtml()[e.options.isWechat?"weixin_localAudioDialogLi":"localAudioDialogLi"])(i)),o.find("#image-list-pager").html(i.page),o.find(".pagination a").click(function(){e.localAudioPage($(this).attr("page"))}),o.find(".js-btn-select").click(function(t){$(t.target).toggleClass("btn-primary"),e.options.isWechat?e.options.direct&&e.modalobj.find("#history_audio").find(".btn-primary").trigger("click"):e.options.multiple||e.modalobj.find("#history_audio").find(".btn-primary").trigger("click")}),e.playAudio(),e.options.isWechat&&e.weixinDeletefile())}),o.find(".modal-footer .btn-primary").unbind("click").click(function(){var t=[];o.find(".history-content .btn-primary").each(function(){t.push(e.modalobj.find("#history_audio").data("attachment")[$(this).attr("attachid")]),$(this).removeClass("btn-primary")}),e.finish(t)}),!1},playAudio:function(){var t=this.modalobj.find(".tablepanel-con");$(".audio-player-play").click(function(){if($(this).attr("attach")){if($("#player")[0])i=$("#player");else{var i=$('<div id="player"></div>');$(document.body).append(i)}i.data("control",$(this)),i.jPlayer({playing:function(){$(this).data("control").find("p").removeClass("fa-play").addClass("fa-stop")},pause:function(t){$(this).data("control").find("p").removeClass("fa-stop").addClass("fa-play")},swfPath:"resource/components/jplayer",supplied:"mp3,wma,wav,amr",solution:"html, flash"}),i.jPlayer("setMedia",{mp3:$(this).attr("attach")}).jPlayer("play"),$(this).find("p").hasClass("fa-stop")?i.jPlayer("stop"):(t.find(".fa-stop").removeClass("fa-stop").addClass("fa-play"),i.jPlayer("setMedia",{mp3:$(this).attr("attach")}).jPlayer("play"))}})},initLocalVoice:function(){this.initLocalAudio()},initLocalVideo:function(){this.localVideoPage(1)},localVideoPage:function(i){var e=this;if(e.options.isWechat)var a="./index.php?c=utility&a=wechat_file&do=browser",n={page:i,type:e.options.type,psize:5};else var a="./index.php?c=utility&a=file&do=local&type=video&pagesize=5",n={page:i};var o=e.modalobj.find(".tab-content");return o.empty(),o.append(e.buildHtml().pickupDialog),e.initUploader("window",".btn.btn-upload-primary"),$.getJSON(a,n,function(i){i=i.message.message,o.find(".history-content").html('<i class="fa fa-spinner fa-pulse"></i>'),t.isEmpty(i.items)?o.find(".history-content").css("text-align","left").html('<i class="fa fa-info-circle"></i> 暂无数据'):(o.data("attachment",i.items),o.find(".tablepanel-con").empty(),o.find(".tablepanel-con").html(t.template(e.buildHtml()[e.options.isWechat?"weixin_localVideoDialogLi":"localVideoDialogLi"])(i)),o.find("#image-list-pager").html(i.page),o.find(".pagination a").click(function(){e.localVideoPage($(this).attr("page"))}),o.find(".js-btn-select").click(function(t){$(t.target).toggleClass("btn-primary"),e.options.isWechat?e.options.direct&&e.modalobj.find("#history_video").find(".modal-footer .btn-primary").trigger("click"):e.options.multiple||e.modalobj.find("#history_video").find(".modal-footer .btn-primary").trigger("click")}),e.options.isWechat&&e.weixinDeletefile())}),o.find(".modal-footer .btn-primary").unbind("click").click(function(){var t=[];o.find(".history-content .btn-primary").each(function(){t.push(e.modalobj.find("#history_video").data("attachment")[$(this).attr("attachid")]),$(this).removeClass("btn-primary")}),e.finish(t)}),!1},finish:function(t){var i=this;$.isFunction(i.options.callback)&&(0==i.options.multiple?i.options.callback(t[0]):i.options.callback(t),i.modalobj.modal("hide"))},buildHtml:function(){var t={};return t.mainDialog='<div id="newUploaderImg" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">\n\t<div class="modal-dialog">\n\t\t<div class="modal-content">\n\t\t\t<div class="modal-header">\n\t\t\t\t<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>\n\t\t\t\t上传\n\t\t\t</div>\n\t\t\t<div class="modal-body clearfix">\n\t\t\t\t<ul class="nav nav-pills nav-stacked">\n\t\t\t\t\t<li role="presentation"'+(this.options.isWechat?'class="active"':"")+'><a href="#wx" class="click_wechat" role="tab" data-toggle="tab">微信</a></li>\n\t\t\t\t\t<li role="presentation"'+(this.options.isWechat?"":'class="active"')+'><a href="#local" class="click_local" role="tab" data-toggle="tab">服务器</a></li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="tab-content '+this.options.type+'"></div>\n\t\t\t</div>\n\t\t\t<div class="modal-footer">\n\t\t\t\t<div class="text-center">\n\t\t\t\t\t<span class="pull-left count"></span>\n\t\t\t\t\t<button '+(this.options.multiple?"":'style="display:none;"')+' type="button" class="btn btn-primary" id="testbtn">确定</button>\n'+(this.options.multiple?'<button type="button" class="btn btn-default"  data-dismiss="modal">取消</button>\n':"")+"\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>",t.pickupDialog='<div role="tabpanel" class="tab-pane active" id="wx">\n\t\t\t\t\t\t<div class="tablepanel-top text-right">\n\t\t\t\t\t\t\t<div class="upload-queue"></div>\n\t\t\t\t\t\t\t<span>建议尺寸：200像素 * 200像素</span>\n\t\t\t\t\t\t\t<div class="btn btn-upload-primary">选择文件</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tablepanel-con">\n\t\t\t\t\t\t\t<div class="img-list clearfix"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>',t.remoteDialog='<div role="tabpanel" class="text-center clearfix" id="link">\n\t<div class="item">\n\t\t<div class="img" style="background-image: url(\'#\');">\t\t\t<span class="cover">\n\t\t\t\t<i class="wi wi-right"></i>\n\t\t\t</span>\n\t\t</div>\n\t\t<div class="img-title"></div>\n\t</div>\n\t<div class="text-center link">\n\t\t<div class="state">输入图片链接</div>\n\t\t<form action="" method="post">\n\t\t\t<input type="url" class="form-control text-center" id="networkurl" placeholder="请输入网络图片地址">\n\t\t\t<button id="btn-research" class="btn btn-default" type="submit">搜索</button>\n\t\t</form>\n\t</div>\n</div>',t.remoteVideoDialog='<div role="tabpanel" class="tab-pane network'+(this.options.allowUploadVideo?" ":" active")+'" id="network">\n\t<div style="margin-top: 10px;">\n\t\t<form>\n\t\t\t<div class="form-group">\n\t\t\t\t<div style="margin: -10px 0 10px 0;">为了在微信中有更好的体验，推荐使用<a href="http://v.qq.com" target="_blank">腾讯视频</a></div>\n\t\t\t\t<input type="url" class="form-control" id="networkurl" placeholder="请输入网络视频地址">\n\t\t\t\t<div id="preview" style="position:relative;width:600px;height:300px;margin:0 auto;margin-top:15px;text-align:center;background:#ccc;">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n\t<div class="modal-footer" style="margin:0 -30px -30px;">\n\t\t<button type="button" class="btn btn-primary">确认</button>\n\t\t<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>\n\t</div>\n</div>',t.localDialogLi='<div class="img-list clearfix">\n<%var items = _.sortBy(items, function(item) {return -item.id;});%><%_.each(items, function(item) {%> \n\t<div class="item" attachid="<%=item.id%>" title="<%=item.filename%>">\n\t\t<div class="img" style="background-image: url(\'<%=item.url%>\');">\n\t\t\t<span class="cover">\n\t\t\t\t<i class="wi wi-right"></i>\n\t\t\t</span>\n\t\t</div>\n\t\t<div class="img-title"><%=item.filename%></div>\n\t</div>\n<%});%>\n</div>\n<div class="text-right">\t<nav id="image-list-pager">\n\t\t\t<ul class="pager" style="margin: 0;"></ul>\n\t</nav>\n</div>',t.weixin_localDialogLi='<div class="img-list clearfix">\n<%var items = _.sortBy(items, function(item) {return -item.id;});%><%_.each(items, function(item) {%> \n\t<div class="item" attachid="<%=item.id%>" title="<%=item.filename%>">\n\t\t<div class="img" style="background-image: url(\'<%=item.url%>\');">\n\t\t\t<span class="cover">\n\t\t\t\t<i class="wi wi-right"></i>\n\t\t\t</span>\n\t\t</div>\n\t\t<div class="img-title"><%=item.filename%></div>\n\t</div>\n<%});%>\n</div>\n<div class="text-right">\t<nav id="image-list-pager">\n\t\t\t<ul class="pager" style="margin: 0;"></ul>\n\t</nav>\n</div>',t.localAudioDialog='<div role="tabpanel" class="tab-pane history" id="history_audio">\n\t<div style="height:310px; overflow-x:hidden; overflow-y: auto;">\n\t\t<table class="table table-hover we7-table">\n\t\t<thead class="navbar-inner">\n\t\t\t<tr>\n\t\t\t\t<th>标题</th>\n'+(this.options.isWechat?'\t\t\t\t<th style="width:30%;text-align:right">创建时间</th>\n\t\t\t\t<th style="width:30%;text-align:right">\n\t\t\t\t\t<div class="input-group input-group-sm hide">\n':'\t\t\t\t<th style="width:20%;">创建时间</th>\n\t\t\t\t<th style="width:30%;">\n\t\t\t\t\t<div class="input-group input-group-sm">\n')+'\t\t\t\t\t\t<input type="text" class="form-control">\n\t\t\t\t\t\t<span class="input-group-btn">\n\t\t\t\t\t\t\t<button class="btn btn-default" type="button"><i class="fa fa-search" style="font-size:12px; margin-top:0;"></i></button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody class="history-content">\n\t\t</tbody>\n\t</table></div>\n\t<nav id="image-list-pager" class="text-right we7-margin-vertical">\n\t\t<ul class="pager" style="margin: 0;"></ul>\n\t</nav>\n\t<div class="modal-footer" style="margin:0 -30px -30px;">\n\t\t<div style="float: right;">\n\t\t<button '+(this.options.multiple?"":'style="display:none;"')+' type="button" class="btn btn-primary">确认</button>\n'+(this.options.multiple?'<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>\n':"")+"\t\t</div>\n\t</div>\n</div>",t.localAudioDialogLi='<div class="img-list clearfix">\n<%var items = _.sortBy(items, function(item) {return -item.id;});%><%_.each(items, function(item) {%> \n<div class="audio-item" attachid="<%=item.id%>" title="<%=item.filename%>" data-type="audio"><tr>\n\t<td><a href="#" title="<%=item.filename%>"><%=item.filename%></a></td>\n\t<td class="text-right"><%=item.createtime%></td>\n\t<td class="text-right">\n\t\t<span class="input-group-btn">\n\t\t\t<button class="btn btn-default audio-player-play" type="button" attach="<%=item.url%>"><p style="margin:0px;" class="fa fa-play"></p></button>\n\t\t\t<button attachid="<%=item.id%>" class="btn btn-default js-btn-select">选取</button>\n\t\t</span>\n\t</td>\n</div></tr>\n<%});%>\n</div><div class="text-right">\t<nav id="image-list-pager">\n\t\t\t<ul class="pager" style="margin: 0;"></ul>\n\t</nav>\n</div>',t.weixin_localAudioDialogLi='<div class="img-list clearfix">\n<%var items = _.sortBy(items, function(item) {return -item.id;});%><%_.each(items, function(item) {%> \n<div class="audio-item" attachid="<%=item.id%>" title="<%=item.filename%>" data-type="audio"><tr>\n\t<td><a href="<%=item.url%>" target="blank" title="<%=item.filename%>"><%=item.filename%></a></td>\n\t<td class="text-right"><%=item.createtime%></td>\n\t<td class="text-right">\n\t\t<span class="input-group-btn" attachid="<%=item.id%>" data-type="audio">\n\t\t\t<button class="btn btn-default audio-player-play" type="button" attach="<%=item.url%>"><p style="margin:0px;" class="fa fa-play"></p></button>\n\t\t\t<button class="btn btn-default delete-file">删除</button>\n\t\t\t<button attachid="<%=item.id%>" class="btn btn-default js-btn-select">选取</button>\n\t\t</span>\n\t</td>\n</tr></div>\n<%});%>\n</div><div class="text-right">\t<nav id="image-list-pager">\n\t\t\t<ul class="pager" style="margin: 0;"></ul>\n\t</nav>\n</div>',t.localVideoDialog='<div role="tabpanel" class="tab-pane history" id="history_video">\n\t<div style="height:310px; overflow-x:hidden; overflow-y:auto;">\n\t\t<table class="table table-hover we7-table">\n\t\t<thead class="navbar-inner">\n\t\t\t<tr>\n\t\t\t\t<th>标题</th>\n\t\t\t\t<th style="width:30%;text-align:right">创建时间</th>\n\t\t\t\t<th style="width:30%;text-align:right">\n\t\t\t\t\t<div class="input-group input-group-sm hide">\n\t\t\t\t\t\t<input type="text" class="form-control">\n\t\t\t\t\t\t<span class="input-group-btn">\n\t\t\t\t\t\t\t<button class="btn btn-default" type="button"><i class="fa fa-search" style="font-size:12px; margin-top:0;"></i></button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody class="history-content">\n\t\t</tbody>\n\t</table></div>\n\t<nav id="image-list-pager" class="text-right we7-margin-vertical">\n\t\t<ul class="pager" style="margin: 0;"></ul>\n\t</nav>\n\t<div class="modal-footer" style="margin:0 -30px -30px;">\n\t\t<div style="float: right;">\n\t\t<button '+(this.options.multiple?"":'style="display:none;"')+' type="button" class="btn btn-primary">确认</button>\n'+(this.options.multiple?'<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>\n':"")+"\t\t</div>\n\t</div>\n</div>",t.localVideoDialogLi='<div class="img-list clearfix">\n<%var items = _.sortBy(items, function(item) {return -item.id;});%><%_.each(items, function(item) {%> \n<div class="audio-item" attachid="<%=item.id%>" title="<%=item.filename%>" data-type="audio"><tr>\n\t<td><a href="#" title="<%=item.filename%>"><%=item.filename%></a></td>\n\t<td class="text-right"><%=item.createtime%></td>\n\t<td class="text-right">\n\t\t<span class="input-group-btn">\n\t\t\t<button attachid="<%=item.id%>" class="btn btn-default js-btn-select">选取</button>\n\t\t</span>\n\t</td>\n</div></tr>\n<%});%>\n</div><div class="text-right">\t<nav id="image-list-pager">\n\t\t\t<ul class="pager" style="margin: 0;"></ul>\n\t</nav>\n</div>',t.weixin_localVideoDialogLi='<div class="img-list clearfix">\n<%var items = _.sortBy(items, function(item) {return -item.id;});%><%_.each(items, function(item) {%> \n<div class="audio-item" attachid="<%=item.id%>" title="<%=item.filename%>" data-type="audio"><tr>\n\t<td><a href="<%=item.url%>" target="blank" title="<%=item.filename%>"><%=item.filename%></a></td>\n\t<td class="text-right"><%=item.createtime%></td>\n\t<td class="text-right">\n\t\t<span class="input-group-btn" attachid="<%=item.id%>" data-type="audio">\n\t\t\t<button class="btn btn-default delete-file">删除</button>\n\t\t\t<button attachid="<%=item.id%>" class="btn btn-default js-btn-select">选取</button>\n\t\t</span>\n\t</td>\n</div></tr>\n<%});%>\n</div><div class="text-right">\t<nav id="image-list-pager">\n\t\t\t<ul class="pager" style="margin: 0;"></ul>\n\t</nav>\n</div>',t}};return e});