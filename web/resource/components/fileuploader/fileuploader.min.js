!function(a,b){"function"==typeof define&&define.amd?define(["underscore","webuploader","jquery.jplayer"],function(c,d){return a.fileUploader=b(c,d)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=b(require("underscore"),require("webuploader"),require("jquery.jplayer"),require("filestyle")):a.fileUploader=b(jQuery,underscore,WebUploader)}(window,function(a,b){var c={defaultoptions:{direct:!1,global:!1,dest_dir:"",callback:null,type:"image",mode:"",multiple:!1,allowUploadVideo:!0,fileSizeLimit:!1,uploader:{}},uploader:{},upload:function(a){var b=this;b.initOptions("",a),b.initUploader("web","#webUploaderBtn"),a.isWechat=!1,b.initOptions("",a),b.initUploader("web","#webUploaderBtn2")},show:function(a,b){return this.init(a,b)},initOptions:function(a,b){var c=this;if(c.options=$.extend({},c.defaultoptions,b),c.options.callback=a,c.options.isWechat){if(c.options.account_error)return alert("公众号没有上传素材的权限","","info"),!1}else c.options.global?c.options.global="global":c.options.global="",document.cookie="__fileupload_type="+escape(c.options.type),document.cookie="__fileupload_dest_dir="+escape(c.options.dest_dir),document.cookie="__fileupload_global="+escape(c.options.global)},setOptions:function(a,b){var c,d,e,f,g,h,i=this;switch(e=i.options.multiple?isNaN(Number(i.options.num_limit))?30:Number(i.options.num_limit):1,i.options.isWechat?(fileSingleImageSizeLimit=1048576,fileSingleVoiceSizeLimit=5242880,fileSingleVideoSizeLimit=5242880):(fileSingleImageSizeLimit=isNaN(Number(i.options.image_limit))?5242880:Number(i.options.image_limit),fileSingleVoiceSizeLimit=isNaN(Number(i.options.voice_limit))?5242880:Number(i.options.voice_limit),fileSingleVideoSizeLimit=isNaN(Number(i.options.video_limit))?5242880:Number(i.options.video_limit)),i.options.type){case"image":c="图片",typeUnit="张",d={title:"Images",extensions:"gif,jpg,jpeg,bmp,png,ico",mimeTypes:"image/gif,image/jpg,image/jpeg,image/bmp,image/png,image/ico"},e=e,f=fileSingleImageSizeLimit,g=e*f,h=i.options.isWechat?{quality:80,preserveHeaders:!0,noCompressIfLarger:!0,compressSize:1048576}:!1;break;case"audio":case"voice":c="音频",typeUnit="个",d={title:"Audios",extensions:"mp3,wma,wav,amr",mimeTypes:"audio/*"},e=e,f=fileSingleVoiceSizeLimit,g=e*f,h=!1,i.options.isWechat&&(e=5,"temp"==i.options.mode?(d.extensions="mp3",f=2097152,g=10485760):(f=5242880,g=26214400));break;case"video":c="视频",typeUnit="个",d={title:"Video",extensions:"rm,rmvb,wmv,avi,mpg,mpeg,mp4",mimeTypes:"video/*"},e=e,f=fileSingleVideoSizeLimit,g=e*f,h=!1,i.options.isWechat&&(e=5,"temp"==i.options.mode?(d.extensions="mp4",f=10485760,g=52428800):(f=20971520,g=104857600))}var j={pick:{id:b,label:'<button class="btn btn-primary">'+("window"==a?"点击选择"+c:"上传到"+(i.options.isWechat?"微信":"服务器"))+"</button>",multiple:i.options.multiple},auto:!0,swf:"./resource/componets/webuploader/Uploader.swf",server:i.options.isWechat?"./index.php?c=utility&a=wechat_file&do=upload":"./index.php?c=utility&a=file&do=upload&type="+i.options.type,compress:h,accept:d,fileNumLimit:e,fileSizeLimit:g,fileSingleSizeLimit:f,thumbnailWidth:50,thumbnailHeight:50};return j=$.extend({},j,i.options.uploader),j.pick.multiple=i.options.multiple,j.isWechat=i.options.isWechat,j.type=i.options.type,i.options.fileNumLimit=e,i.options.fileSizeLimit=g,i.options.fileSingleSizeLimit=f,i.options.typeText=c,j},init:function(a,b){var c=this;return c.initOptions(a,b),$("#newUploaderImg").remove(),0==$("#newUploaderImg").length&&$(document.body).append(c.buildHtml().mainDialog),c.modalobj=$("#newUploaderImg"),c.modalobj.modal("show"),c.modalobj.on("shown.bs.modal",function(){if(!$(this).data("init"))switch(c.options.type){case"image":case"thumb":c.leftButtonClick("Local");break;case"audio":c.leftButtonClick("LocalAudio");break;case"voice":c.leftButtonClick("LocalVoice");break;case"video":c.options.allowUploadVideo&&c.leftButtonClick("LocalVideo")}}),c.modalobj},leftButtonClick:function(a){var b=this;b["init"+a](),b.modalobj.find(".click_wechat").click(function(){b.options.isWechat=!0,b["init"+a]()}),b.modalobj.find(".click_local").click(function(){b.options.isWechat=!1,b["init"+a]()})},initUploader:function(a,d){var e=this,f=e.setOptions(a,d),g=0;c=b.create(f),c.option("server",c.option("server")+"&mode=perm&types="+e.options.type),c.on("uploadSuccess",function(b){if(g--,$("#"+b.id).addClass("upload-state-done"),0==g)if("window"==a)switch(e.options.type){case"image":case"thumb":e.initLocal();break;case"audio":e.initLocalAudio();break;case"voice":e.initLocalVoice();break;case"video":e.options.allowUploadVideo&&e.initLocalVideo()}else window.location.reload()}),c.on("uploadComplete",function(a){$("#"+a.id).find(".progress").remove()}),c.onError=function(a){return"Q_EXCEED_SIZE_LIMIT"==a?void alert("错误信息: "+e.options.typeText+"大于 "+b.formatSize(e.options.fileSizeLimit)+" 无法上传."):"F_DUPLICATE"==a?void alert("错误信息: 不能重复上传"+e.options.typeText+"."):void alert("Eroor: "+a)},c.on("fileQueued",function(b){g++;var d=$('<div id="'+b.id+'" class="file-item thumbnail"><img><div class="info">'+b.name+"</div></div>"),f=d.find("img");"window"==a?$("#newUploaderImg").find(".upload-queue").append(d):$(".material-appmsg").find(".upload-queue").append(d),"image"==e.options.type&&c.makeThumb(b,function(a,b){return a?void f.replaceWith("<span>不能预览</span>"):void f.attr("src",b)},e.options.thumbnailWidth,e.options.thumbnailHeight)}),c.on("uploadProgress",function(a,b){var c=$("#"+a.id),d=c.find(".progress .progress-bar");d.length||(d=$('<div class="progress progress-striped active"><div class="progress-bar" role="progressbar" style="width: 0%"></div></div>').appendTo(c).find(".progress-bar")),c.find("p.state").text("上传中"),d.css("width",100*b+"%")})},initRemote:function(){var a=this;a.modalobj.find(".tab-content").empty(),a.modalobj.find(".tab-content").append(a.buildHtml().remoteDialog),a.modalobj.find("#btn-research").click(function(){var b=a.modalobj.find("#networkurl").val();$.ajax({url:"./index.php?c=utility&a=file&do=fetch",data:"url="+b,dataType:"json",success:function(b){b.message?alert(b.message):(a.modalobj.find(".tab-content").find(".img").attr("style","background-image: url("+b.url+");"),a.finish([b]),b={})}})})},initVideoRemote:function(){function a(a){if(a){var d=b(a);d=c(d),$("#preview").html('<div style="position:absolute;top:0;margin:0;padding:120px 50px;width:100%;height:100%;font-size:20px;"><span>只支持 腾讯，优酷，土豆视频，如无法预览视频，请前往视频网址处的分享区域，复制通用地址到编辑器内部！</span></div><iframe src="'+d+'" allowfullscreen="true" style="border:0;position:absolute;top:0;left:0;margin:0;padding:0;width:100%;height:100%;"></iframe>')}}function b(a){if(!a)return"";var b,c;if(a.indexOf("v.qq.com")>=0){if(b=a.match(/vid\=([^\&]*)($|\&)/),b?c="http://v.qq.com/iframe/player.html?vid="+b[1]+"&tiny=0&auto=0":(b=a.match(/\/([0-9a-zA-Z]+).html/),b&&(c="http://v.qq.com/iframe/player.html?vid="+b[1]+"&tiny=0&auto=0")),!b)return}else if(a.indexOf("v.youku.com")>=0)b=a.match(/id_(.*)\.html/),c="http://player.youku.com/embed/"+b[1];else{if(!(a.indexOf("tudou.com")>=0))return;b=a.match(/\/([-\w]+)/g),b=b[b.length-1].substring(1),c="http://www.tudou.com/programs/view/html5embed.action?code="+b}return c}function c(a,b){return a?a.replace(b||/[<">']/g,function(a){return{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[a]}):""}var d=this;d.modalobj.find("#li_network").removeClass("hide"),d.modalobj.find(".modal-body").append(d.buildHtml().remoteVideoDialog),d.modalobj.find("#networkurl").blur(function(){var b=$(this).val();b.length>0?a(b):$("#preview").html("")}),d.modalobj.find(".btn-primary").click(function(){var a=d.modalobj.find("#networkurl").val();if(a.length>0&&"video"==d.options.type){var e=b(a);e=c(e),d.finish([{url:e,isRemote:!0}])}})},initLocal:function(){var a=this;a.localPage(1)},localPage:function(b){var c=this;if(c.options.isWechat)var d=c.options.type,e=c.options.mode,f="./index.php?c=utility&a=wechat_file&do=browser",g={page:b,type:d,mode:e,psize:10};else var h=c.modalobj.find("#select-year .btn-info").data("id"),i=c.modalobj.find("#select-month .btn-info").data("id"),f="./index.php?c=utility&a=file&do=local",g={page:b,year:h,month:i};var j=c.modalobj.find(".tab-content");return j.empty(),j.append(c.buildHtml().pickupDialog),c.initUploader("window",".btn.btn-upload-primary"),$.getJSON(f,g,function(b){b=b.message.message,a.isEmpty(b.items)?j.find(".tablepanel-con").html('<div class="empty hidden"><span class="wi wi-warning-sign"></span>暂无图片</div>'):(j.data("attachment",b.items),j.find(".tablepanel-con").empty(),j.find(".tablepanel-con").html(a.template(c.buildHtml()[c.options.isWechat?"weixin_localDialogLi":"localDialogLi"])(b)),j.find("#image-list-pager").html(b.page),j.find(".pagination a").click(function(){c.localPage($(this).attr("page"))}),j.find(".img").click(function(a){c.selectImage($(a.target).parents(".item"))}),c.options.isWechat?c.weixinDeletefile():c.deletefile())}),c.modalobj.find(".modal-footer .text-center").find(".btn-primary").unbind("click").click(function(){var a=[];j.find(".item.selected").each(function(){a.push(j.data("attachment")[$(this).attr("attachid")]),$(this).removeClass("selected")}),c.finish(a)}),!1},deletefile:function(){var a=this;a.modalobj.find("#history_image .img-list li .btnClose").unbind().click(function(){var a=$(this),b=$(this).data("id");return b?($.post("./index.php?c=utility&a=file&do=delete",{id:b},function(b){"success"!=b?alert(b):(a.parent().remove(),util.message("删除成功","","success"))}),!1):!1})},weixinDeletefile:function(){var a=this;a.modalobj.find(".tablepanel-con .delete-file").off("click"),a.modalobj.find(".tablepanel-con .delete-file").on("click",function(a){var b=$(this);if(confirm("确定要删除文件吗？")){var c=$(this).parents(".audio-item").attr("attachid"),d=$(this).parents(".audio-item").attr("data-type");$.post("./index.php?c=utility&a=wechat_file&do=delete",{id:c},function(a){var a=$.parseJSON(a);return a.error?void("image"==d?b.parent().remove():"audio"!=d&&"voice"!=d&&"video"!=d||b.parents(".audio-item").remove()):(util.message(a.message),!1)})}a.stopPropagation()})},selectImage:function(a){var b=this;$(a).toggleClass("selected",""),b.options.isWechat?b.options.direct&&b.modalobj.find(".modal-footer .text-center").find(".btn-primary").trigger("click"):b.options.multiple||b.modalobj.find(".modal-footer .text-center").find(".btn-primary").trigger("click")},initLocalAudio:function(){var a=this;a.localAudioPage(1)},localAudioPage:function(b){var c=this;if(c.options.isWechat)var d=c.options.type,e=c.options.mode,f="./index.php?c=utility&a=wechat_file&do=browser",g={page:b,type:d,mode:e,psize:5};else var f="./index.php?c=utility&a=file&do=local&type=audio&pagesize=5",g={page:b};var h=c.modalobj.find(".tab-content");return h.empty(),h.append(c.buildHtml().pickupDialog),c.initUploader("window",".btn.btn-upload-primary"),$.getJSON(f,g,function(b){b=b.message.message,h.find(".tablepanel-con").html('<i class="fa fa-spinner fa-pulse"></i>'),a.isEmpty(b.items)?h.find(".history-content").css("text-align","center").html('<i class="fa fa-info-circle"></i> 暂无数据'):(h.data("attachment",b.items),h.find(".tablepanel-con").empty(),h.find(".tablepanel-con").html(a.template(c.buildHtml()[c.options.isWechat?"weixin_localAudioDialogLi":"localAudioDialogLi"])(b)),h.find("#image-list-pager").html(b.page),h.find(".pagination a").click(function(){c.localAudioPage($(this).attr("page"))}),h.find(".js-btn-select").click(function(a){$(a.target).toggleClass("btn-primary"),c.options.isWechat?c.options.direct&&c.modalobj.find("#history_audio").find(".btn-primary").trigger("click"):c.options.multiple||c.modalobj.find("#history_audio").find(".btn-primary").trigger("click")}),c.playAudio(),c.options.isWechat&&c.weixinDeletefile())}),h.find(".modal-footer .btn-primary").unbind("click").click(function(){var a=[];h.find(".history-content .btn-primary").each(function(){a.push(c.modalobj.find("#history_audio").data("attachment")[$(this).attr("attachid")]),$(this).removeClass("btn-primary")}),c.finish(a)}),!1},playAudio:function(){var a=this,b=a.modalobj.find(".tablepanel-con");$(".audio-player-play").click(function(){var a=$(this).attr("attach");if(a){if($("#player")[0])var c=$("#player");else{var c=$('<div id="player"></div>');$(document.body).append(c)}c.data("control",$(this)),c.jPlayer({playing:function(){$(this).data("control").find("p").removeClass("fa-play").addClass("fa-stop")},pause:function(a){$(this).data("control").find("p").removeClass("fa-stop").addClass("fa-play")},swfPath:"resource/components/jplayer",supplied:"mp3,wma,wav,amr",solution:"html, flash"}),c.jPlayer("setMedia",{mp3:$(this).attr("attach")}).jPlayer("play"),$(this).find("p").hasClass("fa-stop")?c.jPlayer("stop"):(b.find(".fa-stop").removeClass("fa-stop").addClass("fa-play"),c.jPlayer("setMedia",{mp3:$(this).attr("attach")}).jPlayer("play"))}})},initLocalVoice:function(){this.initLocalAudio()},initLocalVideo:function(){var a=this;a.localVideoPage(1)},localVideoPage:function(b){var c=this;if(c.options.isWechat)var d=c.options.type,e="./index.php?c=utility&a=wechat_file&do=browser",f={page:b,type:d,psize:5};else var e="./index.php?c=utility&a=file&do=local&type=video&pagesize=5",f={page:b};var g=c.modalobj.find(".tab-content");return g.empty(),g.append(c.buildHtml().pickupDialog),c.initUploader("window",".btn.btn-upload-primary"),$.getJSON(e,f,function(b){b=b.message.message,g.find(".history-content").html('<i class="fa fa-spinner fa-pulse"></i>'),a.isEmpty(b.items)?g.find(".history-content").css("text-align","left").html('<i class="fa fa-info-circle"></i> 暂无数据'):(g.data("attachment",b.items),g.find(".tablepanel-con").empty(),g.find(".tablepanel-con").html(a.template(c.buildHtml()[c.options.isWechat?"weixin_localVideoDialogLi":"localVideoDialogLi"])(b)),g.find("#image-list-pager").html(b.page),g.find(".pagination a").click(function(){c.localVideoPage($(this).attr("page"))}),g.find(".js-btn-select").click(function(a){$(a.target).toggleClass("btn-primary"),c.options.isWechat?c.options.direct&&c.modalobj.find("#history_video").find(".modal-footer .btn-primary").trigger("click"):c.options.multiple||c.modalobj.find("#history_video").find(".modal-footer .btn-primary").trigger("click")}),c.options.isWechat&&c.weixinDeletefile())}),g.find(".modal-footer .btn-primary").unbind("click").click(function(){var a=[];g.find(".history-content .btn-primary").each(function(){a.push(c.modalobj.find("#history_video").data("attachment")[$(this).attr("attachid")]),$(this).removeClass("btn-primary")}),c.finish(a)}),!1},finish:function(a){var b=this;$.isFunction(b.options.callback)&&(0==b.options.multiple?b.options.callback(a[0]):b.options.callback(a),b.modalobj.modal("hide"))},buildHtml:function(){var a={};return a.mainDialog='<div id="newUploaderImg" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">\n	<div class="modal-dialog">\n		<div class="modal-content">\n			<div class="modal-header">\n				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>\n				上传\n			</div>\n			<div class="modal-body clearfix">\n				<ul class="nav nav-pills nav-stacked">\n					<li role="presentation"'+(this.options.isWechat?'class="active"':"")+'><a href="#wx" class="click_wechat" role="tab" data-toggle="tab">微信</a></li>\n					<li role="presentation"'+(this.options.isWechat?"":'class="active"')+'><a href="#local" class="click_local" role="tab" data-toggle="tab">服务器</a></li>\n				</ul>\n				<div class="tab-content '+this.options.type+'"></div>\n			</div>\n			<div class="modal-footer">\n				<div class="text-center">\n					<span class="pull-left count"></span>\n					<button '+(this.options.multiple?"":'style="display:none;"')+' type="button" class="btn btn-primary" id="testbtn">确定</button>\n'+(this.options.multiple?'<button type="button" class="btn btn-default"  data-dismiss="modal">取消</button>\n':"")+"				</div>\n			</div>\n		</div>\n	</div>\n</div>",a.pickupDialog='<div role="tabpanel" class="tab-pane active" id="wx">\n						<div class="tablepanel-top text-right">\n							<div class="upload-queue"></div>\n							<span>建议尺寸：200像素 * 200像素</span>\n							<div class="btn btn-upload-primary">选择文件</div>\n						</div>\n						<div class="tablepanel-con">\n							<div class="img-list clearfix"></div>\n						</div>\n					</div>',a.remoteDialog='<div role="tabpanel" class="text-center clearfix" id="link">\n	<div class="item">\n		<div class="img" style="background-image: url(\'#\');">			<span class="cover">\n				<i class="wi wi-right"></i>\n			</span>\n		</div>\n		<div class="img-title"></div>\n	</div>\n	<div class="text-center link">\n		<div class="state">输入图片链接</div>\n		<form action="" method="post">\n			<input type="url" class="form-control text-center" id="networkurl" placeholder="请输入网络图片地址">\n			<button id="btn-research" class="btn btn-default" type="submit">搜索</button>\n		</form>\n	</div>\n</div>',a.remoteVideoDialog='<div role="tabpanel" class="tab-pane network'+(this.options.allowUploadVideo?" ":" active")+'" id="network">\n	<div style="margin-top: 10px;">\n		<form>\n			<div class="form-group">\n				<div style="margin: -10px 0 10px 0;">为了在微信中有更好的体验，推荐使用<a href="http://v.qq.com" target="_blank">腾讯视频</a></div>\n				<input type="url" class="form-control" id="networkurl" placeholder="请输入网络视频地址">\n				<div id="preview" style="position:relative;width:600px;height:300px;margin:0 auto;margin-top:15px;text-align:center;background:#ccc;">\n				</div>\n			</div>\n		</form>\n	</div>\n	<div class="modal-footer" style="margin:0 -30px -30px;">\n		<button type="button" class="btn btn-primary">确认</button>\n		<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>\n	</div>\n</div>',a.localDialogLi='<div class="img-list clearfix">\n<%var items = _.sortBy(items, function(item) {return -item.id;});%><%_.each(items, function(item) {%> \n	<div class="item" attachid="<%=item.id%>" title="<%=item.filename%>">\n		<div class="img" style="background-image: url(\'<%=item.url%>\');">\n			<span class="cover">\n				<i class="wi wi-right"></i>\n			</span>\n		</div>\n		<div class="img-title"><%=item.filename%></div>\n	</div>\n<%});%>\n</div>\n<div class="text-right">	<nav id="image-list-pager">\n			<ul class="pager" style="margin: 0;"></ul>\n	</nav>\n</div>',a.weixin_localDialogLi='<div class="img-list clearfix">\n<%var items = _.sortBy(items, function(item) {return -item.id;});%><%_.each(items, function(item) {%> \n	<div class="item" attachid="<%=item.id%>" title="<%=item.filename%>">\n		<div class="img" style="background-image: url(\'<%=item.url%>\');">\n			<span class="cover">\n				<i class="wi wi-right"></i>\n			</span>\n		</div>\n		<div class="img-title"><%=item.filename%></div>\n	</div>\n<%});%>\n</div>\n<div class="text-right">	<nav id="image-list-pager">\n			<ul class="pager" style="margin: 0;"></ul>\n	</nav>\n</div>',a.localAudioDialog='<div role="tabpanel" class="tab-pane history" id="history_audio">\n	<div style="height:310px; overflow-x:hidden; overflow-y: auto;">\n		<table class="table table-hover we7-table">\n		<thead class="navbar-inner">\n			<tr>\n				<th>标题</th>\n'+(this.options.isWechat?'				<th style="width:30%;text-align:right">创建时间</th>\n				<th style="width:30%;text-align:right">\n					<div class="input-group input-group-sm hide">\n':'				<th style="width:20%;">创建时间</th>\n				<th style="width:30%;">\n					<div class="input-group input-group-sm">\n')+'						<input type="text" class="form-control">\n						<span class="input-group-btn">\n							<button class="btn btn-default" type="button"><i class="fa fa-search" style="font-size:12px; margin-top:0;"></i></button>\n						</span>\n					</div>\n				</th>\n			</tr>\n		</thead>\n		<tbody class="history-content">\n		</tbody>\n	</table></div>\n	<nav id="image-list-pager" class="text-right we7-margin-vertical">\n		<ul class="pager" style="margin: 0;"></ul>\n	</nav>\n	<div class="modal-footer" style="margin:0 -30px -30px;">\n		<div style="float: right;">\n		<button '+(this.options.multiple?"":'style="display:none;"')+' type="button" class="btn btn-primary">确认</button>\n'+(this.options.multiple?'<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>\n':"")+"		</div>\n	</div>\n</div>",a.localAudioDialogLi='<div class="img-list clearfix">\n<%var items = _.sortBy(items, function(item) {return -item.id;});%><%_.each(items, function(item) {%> \n<div class="audio-item" attachid="<%=item.id%>" title="<%=item.filename%>" data-type="audio"><tr>\n	<td><a href="#" title="<%=item.filename%>"><%=item.filename%></a></td>\n	<td class="text-right"><%=item.createtime%></td>\n	<td class="text-right">\n		<span class="input-group-btn">\n			<button class="btn btn-default audio-player-play" type="button" attach="<%=item.url%>"><p style="margin:0px;" class="fa fa-play"></p></button>\n			<button attachid="<%=item.id%>" class="btn btn-default js-btn-select">选取</button>\n		</span>\n	</td>\n</div></tr>\n<%});%>\n</div><div class="text-right">	<nav id="image-list-pager">\n			<ul class="pager" style="margin: 0;"></ul>\n	</nav>\n</div>',a.weixin_localAudioDialogLi='<div class="img-list clearfix">\n<%var items = _.sortBy(items, function(item) {return -item.id;});%><%_.each(items, function(item) {%> \n<div class="audio-item" attachid="<%=item.id%>" title="<%=item.filename%>" data-type="audio"><tr>\n	<td><a href="<%=item.url%>" target="blank" title="<%=item.filename%>"><%=item.filename%></a></td>\n	<td class="text-right"><%=item.createtime%></td>\n	<td class="text-right">\n		<span class="input-group-btn" attachid="<%=item.id%>" data-type="audio">\n			<button class="btn btn-default audio-player-play" type="button" attach="<%=item.url%>"><p style="margin:0px;" class="fa fa-play"></p></button>\n			<button class="btn btn-default delete-file">删除</button>\n			<button attachid="<%=item.id%>" class="btn btn-default js-btn-select">选取</button>\n		</span>\n	</td>\n</tr></div>\n<%});%>\n</div><div class="text-right">	<nav id="image-list-pager">\n			<ul class="pager" style="margin: 0;"></ul>\n	</nav>\n</div>',a.localVideoDialog='<div role="tabpanel" class="tab-pane history" id="history_video">\n	<div style="height:310px; overflow-x:hidden; overflow-y:auto;">\n		<table class="table table-hover we7-table">\n		<thead class="navbar-inner">\n			<tr>\n				<th>标题</th>\n				<th style="width:30%;text-align:right">创建时间</th>\n				<th style="width:30%;text-align:right">\n					<div class="input-group input-group-sm hide">\n						<input type="text" class="form-control">\n						<span class="input-group-btn">\n							<button class="btn btn-default" type="button"><i class="fa fa-search" style="font-size:12px; margin-top:0;"></i></button>\n						</span>\n					</div>\n				</th>\n			</tr>\n		</thead>\n		<tbody class="history-content">\n		</tbody>\n	</table></div>\n	<nav id="image-list-pager" class="text-right we7-margin-vertical">\n		<ul class="pager" style="margin: 0;"></ul>\n	</nav>\n	<div class="modal-footer" style="margin:0 -30px -30px;">\n		<div style="float: right;">\n		<button '+(this.options.multiple?"":'style="display:none;"')+' type="button" class="btn btn-primary">确认</button>\n'+(this.options.multiple?'<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>\n':"")+"		</div>\n	</div>\n</div>",a.localVideoDialogLi='<div class="img-list clearfix">\n<%var items = _.sortBy(items, function(item) {return -item.id;});%><%_.each(items, function(item) {%> \n<div class="audio-item" attachid="<%=item.id%>" title="<%=item.filename%>" data-type="audio"><tr>\n	<td><a href="#" title="<%=item.filename%>"><%=item.filename%></a></td>\n	<td class="text-right"><%=item.createtime%></td>\n	<td class="text-right">\n		<span class="input-group-btn">\n			<button attachid="<%=item.id%>" class="btn btn-default js-btn-select">选取</button>\n		</span>\n	</td>\n</div></tr>\n<%});%>\n</div><div class="text-right">	<nav id="image-list-pager">\n			<ul class="pager" style="margin: 0;"></ul>\n	</nav>\n</div>',a.weixin_localVideoDialogLi='<div class="img-list clearfix">\n<%var items = _.sortBy(items, function(item) {return -item.id;});%><%_.each(items, function(item) {%> \n<div class="audio-item" attachid="<%=item.id%>" title="<%=item.filename%>" data-type="audio"><tr>\n	<td><a href="<%=item.url%>" target="blank" title="<%=item.filename%>"><%=item.filename%></a></td>\n	<td class="text-right"><%=item.createtime%></td>\n	<td class="text-right">\n		<span class="input-group-btn" attachid="<%=item.id%>" data-type="audio">\n			<button class="btn btn-default delete-file">删除</button>\n			<button attachid="<%=item.id%>" class="btn btn-default js-btn-select">选取</button>\n		</span>\n	</td>\n</div></tr>\n<%});%>\n</div><div class="text-right">	<nav id="image-list-pager">\n			<ul class="pager" style="margin: 0;"></ul>\n	</nav>\n</div>',a}};return c});